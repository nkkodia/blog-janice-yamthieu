# static/admin/config.yml

# 1. Configuration du Backend (Connexion à Git Gateway)
backend:
  name: git-gateway
  branch: main # Assurez-vous que cette branche correspond à votre branche principale sur GitHub
  # Remarque : La variable base_url a été retirée pour simplifier l'interaction avec le service Netlify Identity/Git Gateway.

# 2. Workflow de Publication
# Permet de sauvegarder en brouillon avant la publication finale (recommandé)
publish_mode: editorial_workflow

# 3. Gestion des Médias (Images)
# Dossier où les images téléchargées via le CMS seront stockées dans votre dépôt Git
media_folder: "static/images/uploads" 
# Chemin public pour afficher ces images sur le site
public_folder: "/images/uploads"

# 4. Définition des Collections (Onglets du Blog)
collections:
  
  # A. Page Statique "À Propos"
  - name: "a-propos"
    label: "À Propos"
    files:
      - label: "Éditer la page À Propos"
        name: "about"
        # Le fichier à éditer (vous devez créer ce fichier manuellement une fois : content/a-propos/_index.md)
        file: "content/a-propos/_index.md" 
        fields:
          - {label: "Titre", name: "title", widget: "string", required: true}
          - {label: "Contenu", name: "body", widget: "markdown", required: true}
          
  # B. Section Méditation : 1. Textes Liturgiques
  - name: "textes-liturgiques"
    label: "1. Méditation - Textes Liturgiques"
    folder: "content/textes-liturgiques"
    create: true # Permet la création de nouveaux posts
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string", required: true}
      - {label: "Date de Publication", name: "date", widget: "datetime", format: "YYYY-MM-DDTHH:MM:SSZ", required: true}
      - {label: "Brouillon (Draft)", name: "draft", widget: "boolean", default: true} # Mettre à 'false' pour publier
      - {label: "Contenu", name: "body", widget: "markdown", required: true}

  # C. Section Méditation : 2. Articles Thématiques
  - name: "articles"
    label: "2. Méditation - Articles Thématiques"
    folder: "content/articles"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string", required: true}
      - {label: "Date de Publication", name: "date", widget: "datetime", format: "YYYY-MM-DDTHH:MM:SSZ", required: true}
      - {label: "Brouillon (Draft)", name: "draft", widget: "boolean", default: true}
      - {label: "Contenu", name: "body", widget: "markdown", required: true}

  # D. Section Méditation : 3. Développement Personnel & Spirituel
  - name: "dev-perso"
    label: "3. Méditation - Développement Personnel & Spirituel"
    folder: "content/developpement-personnel"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string", required: true}
      - {label: "Date de Publication", name: "date", widget: "datetime", format: "YYYY-MM-DDTHH:MM:SSZ", required: true}
      - {label: "Brouillon (Draft)", name: "draft", widget: "boolean", default: true}
      - {label: "Contenu", name: "body", widget: "markdown", required: true}